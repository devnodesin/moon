# Moon - Dynamic Headless Engine Configuration
# Minimal quick-start configuration file
# Copy this file to /etc/moon.conf and adjust values as needed

server:
  host: "0.0.0.0"
  port: 6006
  prefix: ""  # Optional URL prefix (e.g., "/api/v1", "/moon/api")

database:
  connection: "sqlite"
  database: "/opt/moon/sqlite.db"

logging:
  path: "/var/log/moon"

# ============================================================================
# JWT Authentication Configuration (REQUIRED)
# ============================================================================
jwt:
  # JWT signing secret, Use a unique, random string of at least 32 characters
  # Generate a secure secret with: openssl rand -base64 32
  secret: "your-secret-key-change-in-production"
  access_expiry: 3600 # Default: 3600 (1 hour)
  refresh_expiry: 604800 # Default: 604800 (7 days)

# ============================================================================
# API Key Authentication Configuration (Optional)
# ============================================================================
apikey:
  enabled: true # Enable API key authentication
  header: "X-API-Key" # Clients must send their API key in this header

# On first startup, if no admin users exist, Moon will create an admin
# user with these credentials. You MUST change the password immediately
# after first login.
auth:
  bootstrap_admin:
    username: "admin"
    email: "admin@example.com"
    password: "moonadmin12#" # CHANGE THIS PASSWORD IMMEDIATELY AFTER FIRST LOGIN!

# ============================================================================
# Rate Limiting Configuration (Optional)
# ============================================================================
# Rate limits protect against abuse and ensure fair resource usage
# ratelimit:
#   user_rpm: 100  # Requests per minute for JWT-authenticated users (Default: 100)
#   apikey_rpm: 1000 # Requests per minute for API key-authenticated requests,  Default: 1000 (higher for machine-to-machine) 
#   login_attempts: 5 # Maximum failed login attempts per 15 minutes per IP/username (Default: 5)

